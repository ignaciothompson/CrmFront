<div class="frame">
	<div class="frame-title">
		<h4>{{ entrevistaId ? 'Editar Entrevista' : 'Nueva Entrevista' }}</h4>
		@if (activeModal) {
			<button type="button" class="btn-close" (click)="cancel()" aria-label="Close">
				<i class="fa fa-times"></i>
			</button>
		}
	</div>
	<div class="frame-body">
		<div class="row m-b-sm">
			<div class="col-xs-12 col-sm-3">
				<app-filter
					id="contacto"
					type="typeahead"
					label="Contacto"
					[placeholder]="'Buscar contacto...'"
					[items]="contactoItems"
					idKey="id"
					labelKey="label"
					[required]="true"
					[ngModel]="contactoId"
					(ngModelChange)="contactoId = $event"
				></app-filter>
			</div>
			<div class="col-xs-12 col-sm-3">
				<app-filter
					id="unidad"
					type="typeahead"
					label="Unidad"
					[placeholder]="'Buscar unidad o proyecto...'"
					[required]="true"
					[items]="unidadItems"
					idKey="id"
					labelKey="label"
					[ngModel]="unidadId"
					(ngModelChange)="unidadId = $event"
				></app-filter>
			</div>
			<div class="col-xs-12 col-sm-6">
				<app-filter
					id="location"
					type="text"
					label="UbicaciÃ³n"
					[placeholder]="'Lugar del meet'"
					[ngModel]="location"
					(ngModelChange)="location = $event"
				></app-filter>
			</div>
		</div>
		<div class="row m-b-lg">
			<div class="col-xs-12 col-sm-3">
				<app-filter
					id="fecha"
					type="date"
					label="Fecha"
					[required]="true"
					[ngModel]="fechaInput"
					(ngModelChange)="fechaInput = $event; onFechaChange()"
				></app-filter>
			</div>
			<div class="col-xs-12 col-sm-3">
				<label class="c-label">Hora <span class="text-danger">*</span></label>
				<input 
					type="time" 
					class="form-control c-input" 
					[(ngModel)]="horaInput" 
					name="hora" 
					required
					(ngModelChange)="onHoraChange()"
				/>
			</div>
			<div class="col-xs-12 col-sm-6">
				<label class="c-label">Comentario / Nota</label>
				<textarea class="form-control c-input" rows="4" [(ngModel)]="comentario" name="comentario" placeholder="Notas adicionales..."></textarea>
			</div>
		</div>
		<div class="col-xs-12 m-b-md" style="height: calc(100vh - 360px);">
			<full-calendar [options]="calendarOptions"></full-calendar>
		</div>
	</div>
	<div class="frame-footer">
		<button class="btn c-btn btn-default" (click)="cancel()">Cancelar</button>
		<button class="btn c-btn btn-primary" (click)="save()">Guardar</button>
	</div>
</div>

